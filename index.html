<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>心理监控与情绪管理</title>
    <style>
        /* styles.css */

        body {
            font-family: Helvetica, sans-serif;
            margin: 0;
        }

        .top {
            background-image: url('background.jpg'); /* 设置背景图 */
            background-repeat: no-repeat; /* 防止背景图重复 */
            background-size: cover; /* 使背景图覆盖整个视窗 */
            color: white;
            width: 99vw; /* 100% of viewport width */
            height: 100vh; /* 100% of viewport height */
            margin: 0;
            padding: 0;
            position: relative; /* or absolute, depending on your needs */
        }


        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
            padding-top: 10px;
        }

        .chart-container {
            display: flex;
            justify-content: space-between;
            align-items: stretch;
            width: 21%;
            margin: 20px 1%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        .line {
            width: 33%;
        }

        .top .zj p {
            margin-top: -15px;
        }


        .chart-container div {
            flex: 1;
            margin-bottom: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            background-color: #ffffff;

            padding: 20px;
        }

        h3 {
            color: #ffffff;
            text-align: center;
            margin-bottom: 20px;
        }

        canvas {
            max-width: 100%;
            height: auto;
        }

        /* 新增样式 */
        .intro {
            width: 100%;
            padding: 0;
            background-color: rgba(255, 255, 255, 0);
            /*box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);*/
        }


        .ohxl {
            width: 400px;
            height: 100px;
            margin-left: -50px;
            background-position: left center;
            background-repeat: no-repeat;
            background-size: auto 100%; /* This will keep the image aspect ratio and scale its height to the box */
            padding-left: 120px; /* Pushes text content to the right side of the box. Adjust as necessary. */
            display: flex;
            /*align-items: center;*/
            line-height: 100px;
            font-size: 40px;
            /*margin-left: 100px;*/
            filter: invert(1);
            color: black;
            font-family: 华文隶书;
        }


        .intro p {
            margin-left: 350px;
            font-family: 楷体;
        }

        .pro, .team, .background  {
            width: 80%;
            margin-left: 100px;
            font-family: 宋体;
            font-size: 20px;
            transform: translateY(-95px); /* 向上移动50像素 */
        }

        .background {
            margin-top: 350px;
        }


        .pro p, .team p, .background p {
            margin-left: 100px;
            font-size: 16px;
            text-indent: 2em;
        }

        .footer_father {
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            align-items: flex-end;
            width: 100%;
            padding: 0;
            background-color: rgba(64, 64, 64, 1);
            color: white;
        }

        .footer {
            margin: 0;
            text-align: center;
            display: flex;
            flex-wrap: wrap;
            align-items: flex-end;
            justify-content: space-around;
            width: 100%;
            padding: 0;
            background-color: rgba(64, 64, 64, 1);
            color: white;
        }

        .footer_father .title {
            font-size: 30px;
            margin-left: 40px;
            margin-top: 10px;
            font-family: 宋体;
        }
    </style>
</head>

<body>
<div class="top">
    <!-- 项目介绍标题和简述 -->
    <div class="intro zj">
        <div class="ohxl">心理监控与情绪管理</div>
        <p></p>
    </div>


    <div class="intro background">
        <h2>背景介绍</h2>
        <p>
            在当今快节奏的社会中，人们面临着前所未有的心理压力。工作、学业、人际关系等各方面的压力不断累积，导致心理健康问题日益严重。根据世界卫生组织的数据，全球有超过3亿人受到抑郁症的影响，而焦虑症的患病率也在逐年上升。
            <br>
        </p>
        <p>
    </div>


    <div class="intro pro">
        <h2>项目介绍</h2>
        <p>
            为了应对这一挑战，我们开发了这款智能情绪管理应用。该应用利用最新的人工智能技术和心理学原理，旨在帮助用户实时识别和理解自己的情绪状态，并提供个性化的情绪管理建议和策略。我们的目标是为用户提供一个便捷、经济且随时可用的工具，以预防心理健康问题的发生，并提升个人和社会的整体福祉。
            <br>
        </p>
        <p>
    </div>


    <div class="intro team">
        <h2>团队介绍</h2>
        <p>
            我们是一个既有远见卓识又脚踏实地的团队，我们的目标是通过科技和创新来解决当今社会面临的心理健康问题。我们的团队成员各有所长，携手合作，我们能够创造出非凡的成就。我们相信，正是这种多样性，让我们能够突破传统思维的界限，共同打造出能够改善人们生活的产品和服务。


            <br>
        </p>
        <p>
            我们团队的成员：黄腾骏，郭森，陈超逸
        </p>
    </div>
</div>


<!-- 页脚 -->
<div class="footer_father">
    <div class="title">用户调研数据可视化</div>
    <div class="footer">

        <div class="chart-container line ">
            <h2>职业统计</h2>
            <canvas id="professionChart"></canvas>
        </div>

        <div class="chart-container line">
            <h2>付费意愿统计</h2>
            <canvas id="paymentChart"></canvas>
        </div>

        <div class="chart-container ">
            <h2>年龄统计</h2>
            <canvas id="ageChart"></canvas>
        </div>

        <div class="chart-container ">
            <h2>性别统计</h2>
            <canvas id="genderChart"></canvas>
        </div>


        <div class="chart-container ">
            <h2>情绪困难统计</h2>
            <canvas id="emotionChart"></canvas>
        </div>

    </div>
</div>


<script src="chart.js"></script>
<script>
    // 数据摘自您提供的表格

    let data = {
        ageGroups: {
            "18岁以下": 4,
            "18-24岁": 4,
            "25-34岁": 5,
            "35-44岁": 4,
            "45岁以上": 3
        },
        genders: {
            男: 10,
            女: 10
        },
        professions: {
            学生: 10,
            自由职业者: 3,
            全职员工: 1,
            无业: 3
        },
        emotionDifficulties: {
            是: 16,
            否: 4
        },
        paymentWillingness: {
            "免费": 8,
            "10元以下/月": 6,
            "10-50元/月": 2,
            "50-100元/月": 4
        }
    };
    // 首先要确保你在 HTML 里已经引入了 Chart.js
    // 如果没有，请在 HTML 文件中的 <head> 标签中添加以下代码：
    // <script src="https://cdn.jsdelivr.net/npm/chart.js">

    document.addEventListener('DOMContentLoaded', function () {
        let ctx1 = document.getElementById('ageChart').getContext('2d');
        let ctx2 = document.getElementById('genderChart').getContext('2d');
        let ctx3 = document.getElementById('professionChart').getContext('2d');
        let ctx4 = document.getElementById('emotionChart').getContext('2d');
        let ctx5 = document.getElementById('paymentChart').getContext('2d');

// 年龄分布饼图
new Chart(ctx1, {
    type: 'polarArea', // 使用极坐标区域图
    data: {
        labels: Object.keys(data.ageGroups),
        datasets: [{
            data: Object.values(data.ageGroups),
            backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#A3E85C', '#ED7D3A'],
            // 南丁格尔玫瑰图的每个扇区半径与其值成比例，这里我们使用sqrt来模拟这种效果
            // 首先将数据转换为面积（半径的平方），然后计算半径
            radius: Object.values(data.ageGroups).map(function(value) {
                return Math.sqrt(value);
            })
        }]
    },
    options: {
        scale: {
            // 确保极坐标图的scale被正确配置
            ticks: {
                min: 0,
                max: Math.max(...Object.values(data.ageGroups)),
                stepSize: Math.max(...Object.values(data.ageGroups)) / 4
            }
        },
        title: {
            display: true,
            text: '年龄统计'
        }
    }
});


// 性别分布饼图
new Chart(ctx2, {
            type: 'pie',
            data: {
                labels: Object.keys(data.genders),
                datasets: [{
                    data: Object.values(data.genders),
                    backgroundColor: ['#FF6384', '#36A2EB']
                }]
            },
            options: {
                title: {
                    display: true,
                    text: '性别统计'
                }
            }
        });

// 职业分布折线图
let professionLabels = Object.keys(data.professions);
let professionData = Object.values(data.professions);

new Chart(ctx3, {
    type: 'line', // 将图表类型更改为 'line'
    data: {
        labels: professionLabels, // X轴标签
        datasets: [{
            label: '职业统计', // 数据集名称
            data: professionData, // Y轴数据
            backgroundColor: '#FF6384', 
            borderColor: '#FF6384', 
            borderWidth: 1 // 数据点边框宽度
        }]
    },
    options: {
        title: {
            display: true,
            text: '职业统计'
        },
        scales: {
            xAxes: [{
                scaleLabel: {
                    display: true,
                    labelString: '职业'
                },
                ticks: {
                    fontColor: '#FFFFFF', // 设置X轴标签颜色为白色
                }
            }],
            yAxes: [{
                scaleLabel: {
                    display: true,
                    labelString: '人数'
                },
                ticks: {
                    beginAtZero: true, // Y轴从0开始
                    fontColor: '#FFFFFF' // 同样，你也可以设置Y轴标签颜色为白色
                }
            }]
        }
    }
});



// 情绪困难分布饼图
new Chart(ctx4, {
    type: 'doughnut', // 将图表类型更改为 'doughnut'
    data: {
        labels: Object.keys(data.emotionDifficulties),
        datasets: [{
            data: Object.values(data.emotionDifficulties),
            backgroundColor: ['#FF6384', '#36A2EB']
        }]
    },
    options: {
        title: {
            display: true,
            text: '情绪困难统计'
        },
        cutoutPercentage: 50, // 这个选项可以控制圆环中间空白部分的大小，50%表示半圆环
        responsive: true, // 确保图表在不同设备上都能正确响应
        maintainAspectRatio: false // 这个选项可以控制图表的宽高比，设置为false可以让图表更灵活地适应容器大小
    }
});

// 付费意愿条形图
        let paymentLabels = Object.keys(data.paymentWillingness);
        let paymentData = Object.values(data.paymentWillingness);
        let paymentDatasets = [];

        paymentLabels.forEach((label, index) => {
            let dataset = {
                label: label,
                data: Array(paymentLabels.length).fill(0), // 创建一个全为0的数组
                backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#9ACD32'][index]
            };
            dataset.data[index] = paymentData[index]; // 设置对应的值
            paymentDatasets.push(dataset);
        });

        new Chart(ctx5, {
            type: 'bar',
            data: {
                labels: paymentLabels,
                datasets: paymentDatasets
            },
            options: {
                plugins: {
                    title: {
                        display: true,
                        text: '付费意愿统计'
                    }
                },
                scales: {
                    x: {
                        stacked: true,
                        ticks: {
                            font: {
                                size: 14,           // 字体大小
                                family: 'Arial',    // 字体
                                color: '#ffffff'       // 字体颜色
                            }
                        }
                    },
                    y: {
                        stacked: true,
                        ticks: {
                            font: {
                                size: 14,           // 字体大小
                                family: 'Arial',    // 字体
                                color: '#ffffff'       // 字体颜色
                            }
                        }
                    }
                }
            }
        });

    });

</script>
</body>

</html>
